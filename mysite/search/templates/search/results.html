<html> 
<head>
    <!-- Sets the background image -->
    <style type = "text/css">
body {

    background-image: url("https://wallpaperscraft.com/image/surface_network_light_background_texture_50497_1920x1200.jpg");
    background-repeat: repeat-y;
}
</style>
</head>
<title> Results</title>

<h1> Here are your results </h1>

<ul>
    {% for result in results %}
    <li> 
    <form method="post" action="{% url 'detailed_results'%}">
    	{% csrf_token %}
    	<p> {{ result.address }}<br> Price: ${{result.price}}<br> Score: {{ result.score }}
        <br> Type: {{ result.house_type }}<br> Bathrooms: {{ result.bathroom }}<br> Bedrooms: {{ result.bedroom }}
        <br> Size: {{ result.size }}
        </p>
    <input type="hidden" name="house_id" value=" {{ result.house_id }}">
    <input type="submit" value="Learn more" display="none">
    </form>
    </li>
    {% endfor %}
</ul>

  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['table']});
      google.charts.setOnLoadCallback(drawTable);

      function drawTable() {
        var data = new google.visualization.DataTable();
        //var results = "{{ variable_list }}";
        //var len_results = results.length;
        data.addColumn('string', 'Address');
        data.addColumn('number', 'Price');
        
        {% for result in results %}
        data.addRow(
          ['{{result.address}}',  parseInt('{{result.price}}')]);
        {% endfor %}
    
        var table = new google.visualization.Table(document.getElementById('table_div'));

        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
      }
    </script>
  </head>
  <body>
    <div id="table_div"></div>
  </body>











</html>